{{ $cloudflareTurnstileWidgetTheme := "light" }}
{{ $recaptchav2WidgetTheme := "light" }}
{{ if $.DarkThemeEnabled }}
 {{ $cloudflareTurnstileWidgetTheme = "dark" }}
 {{ $recaptchav2WidgetTheme = "dark" }}
{{ end }}

{{ if $.BotProtectionRequired }}
  <input type="hidden" name="x_bot_protection_provider_type" value="{{$.BotProtectionProviderType}}">
  
  {{ if (eq $.BotProtectionProviderType "cloudflare" ) }}
    <div data-controller="cloudflare-turnstile" data-cloudflare-turnstile-site-key-value="{{$.BotProtectionProviderSiteKey}}" data-cloudflare-turnstile-theme-value="{{$cloudflareTurnstileWidgetTheme}}">
      <div class="flex justify-center" data-cloudflare-turnstile-target="widget"></div>
      <input type="hidden" name="x_bot_protection_provider_response" data-cloudflare-turnstile-target="tokenInput" />
    </div>
  {{ else if (eq $.BotProtectionProviderType "recaptchav2" ) }}
    <div data-controller="recaptcha-v2" data-recaptcha-v2-site-key-value="{{$.BotProtectionProviderSiteKey}}" data-recaptcha-v2-theme-value="{{$recaptchav2WidgetTheme}}">
      <div class="flex justify-center" data-recaptcha-v2-target="widget"></div>
      <input type="hidden" name="x_bot_protection_provider_response" data-recaptcha-v2-target="tokenInput" />
    </div>
  {{ end }}
{{ end }}
<noscript>
  {{/* TODO: Implement i18n */}}
  JavaScript is required for the captcha feature. Please enable JavaScript in your browser to proceed.
</noscript>
