{{ template "__page_frame.html" . }}

{{ define "page-content" }}
<div class="content">
<div class="pane flex flex-col">

<div class="flex flex-col width-full margin-v-20">

<h1 class="margin-t-20 margin-b-10 primary-txt text-center text-xl font-bold">{{ template "wechat-auth-title" }}</h1>

{{ if .IsNativePlatform }}
{{ if .WeChatRedirectURI }}
<p class="text-sm break-words margin-t-0 margin-b-20 primary-txt text-center">{{ template "wechat-auth-with-app-description" }}</p>

<div class="switch-link-group flex flex-col margin-b-20">
<a class="as-btn not-a btn primary-btn item click-to-switch"
    href="{{ $.WeChatRedirectURI }}"
    data-turbolinks-action="replace"
>
{{ template "wechat-open-app" }}
</a>
<a class="as-btn not-a btn primary-btn item switch-to-item wechat"
    href="{{ $.CurrentURI }}"
    data-turbolinks-action="replace"
    data-is-refresh-link="true"
>
{{ template "wechat-proceed" }}
</a>
</div>
{{ end }}
{{ else }}
<p class="text-sm break-words margin-t-0 margin-b-20 primary-txt text-center">{{ template "wechat-auth-with-qr-code-description" }}</p>

<img class="margin-b-20 qr-code-image" src="{{ $.ImageURI }}">
{{ end }}

</div>
<div class="margin-t-20">{{ template "__watermark.html" . }}</div>
</div>
</div>
{{ end }}
